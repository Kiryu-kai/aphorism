{"version":3,"sources":["webpack://aphorism/./src/images/header.jpeg","webpack://aphorism/./src/components/Header.tsx","webpack://aphorism/./src/components/Header.module.scss","webpack://aphorism/./src/components/YouTube.tsx","webpack://aphorism/./src/components/YouTube.module.scss","webpack://aphorism/./src/components/ReturnBtn.tsx","webpack://aphorism/./src/components/ReturnBtn.module.scss","webpack://aphorism/./src/components/PrevNextLink.module.scss","webpack://aphorism/./src/components/PrevNextLink.tsx","webpack://aphorism/./src/templates/details.module.scss","webpack://aphorism/./src/templates/details.tsx"],"names":["Header","className","to","href","src","youtube","alt","YouTube","width","height","_src","replace","start","Number","match","hour","Math","floor","min","sec","String","padStart","title","frameBorder","allow","allowFullScreen","ReturnBtn","children","onClick","e","document","referrer","startsWith","window","location","origin","preventDefault","history","back","PrevNextLink","previous","next","fields","slug","styles","frontmatter","words","sns__item","sns__title","sns__btn","PageTemplate","data","pageContext","siteTitle","site","siteMetadata","page","markdownRemark","split","videoId","timestamp","list","tags","length","items","tag","push","key","shareBtn","hash","text","slice","useEffect","twttr","widgets","load","Layout","Helmet","property","content","ogp","async","charSet","html","dangerouslySetInnerHTML","__html","Footer"],"mappings":"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","file":"component---src-templates-details-tsx-a32773fff55106f26780.js","sourcesContent":["export default __webpack_public_path__ + \"static/header-25f1f524702a0fe6048f501c6a52ff2d.jpeg\";","import React from 'react'\nimport {Link} from 'gatsby'\nimport * as styles from './Header.module.scss'\nimport youtube from '../images/header.jpeg'\n\nexport function Header () {\n  return (\n    <header className={styles.header}>\n      <div className={styles.inner}>\n        <h1 className={styles.h1}>\n          <Link to=\"/\" className={styles.h1__link}>\n            #桐生ココの格言\n          </Link>\n        </h1>\n\n        <p className={styles.youtube}>\n          <a href=\"https://www.youtube.com/channel/UCS9uQI-jC3DE0L4IpXyvr6w\" className={styles.youtube__link}>\n            <img src={youtube} alt=\"Coco Ch. 桐生ココ\" className={styles.youtube__img} />\n          </a>\n        </p>\n      </div>\n    </header>\n  )\n}\n","// extracted by mini-css-extract-plugin\nexport var header = \"Header-module--header--3VlH4\";\nexport var inner = \"Header-module--inner--1TFSL\";\nexport var h1 = \"Header-module--h1--3gFhb\";\nexport var h1__link = \"Header-module--h1__link--2I_LZ\";\nexport var youtube = \"Header-module--youtube--_kmRp\";\nexport var youtube__link = \"Header-module--youtube__link--2Sqla\";\nexport var youtube__img = \"Header-module--youtube__img--1fudT\";","import React from 'react'\nimport * as styles from './YouTube.module.scss'\n\ntype Component = React.FC<{\n  src: string;\n  width?: number;\n  height?: number;\n}>\n\nexport const YouTube: Component  = ({ src, width, height }) => {\n  // https://youtu.be/jB48OrSwapc?t=1\n  // https://www.youtube.com/embed/jB48OrSwapc?start=1\n  // https://www.youtube.com/watch?v=jB48OrSwapc\n  // TODO: 複数のパターンを許容するか（シェアURLを前提）\n  const _src = src?.replace(`https://youtu.be/`, `https://www.youtube.com/embed/`).replace(`?t=`, `?start=`)\n  const start = Number((_src.match(/\\?start=([0-9]+)/) || [null, `0`])[1])\n  const hour = Math.floor(start / 60 / 60)\n  const min = Math.floor((start % ( 60 * 60 )) / 60)\n  const sec = String(Math.floor((start % ( 60 )) / 60 * 60)).padStart(2, `0`)\n\n  return (\n    <div className={styles.wrap}>\n      <p className={styles.start}>\n        <span className={styles.start__inner}>\n          {`${hour ? `${String(hour).padStart(2, `0`)}：` : ``}${min ? `${String(min).padStart(2, `0`)}：` : ``}${sec}`}〜\n        </span>\n      </p>\n\n      <div className={styles.video}>\n        <iframe\n          width={width ?? 560}\n          height={height ?? 315}\n          src={_src}\n          title=\"YouTube video player\"\n          frameBorder=\"0\"\n          allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n          allowFullScreen\n          className={styles.iframe}></iframe>\n      </div>\n\n      <div className={styles.btn}>\n        <a href={src} className={styles.btn__link}>YouTubeで見る</a>\n      </div>\n    </div>\n  )\n}\n","// extracted by mini-css-extract-plugin\nexport var btn__link = \"YouTube-module--btn__link--CWhCo\";\nexport var start__inner = \"YouTube-module--start__inner--XCifR\";\nexport var wrap = \"YouTube-module--wrap--8YE77\";\nexport var start = \"YouTube-module--start--1vb46\";\nexport var video = \"YouTube-module--video--Rkmme\";\nexport var iframe = \"YouTube-module--iframe--2Yfjg\";\nexport var btn = \"YouTube-module--btn--1Ax2V\";","import React from \"react\"\nimport { Link } from \"gatsby\"\nimport * as styles from './ReturnBtn.module.scss'\n\ntype Component = React.FC<{\n  src: string;\n}>\n\nexport const ReturnBtn: Component  = ({ src, children }) => {\n  const onclick = (e: React.MouseEvent<HTMLAnchorElement, MouseEvent>) => {\n    if (document.referrer.startsWith(window.location.origin)) {\n      e.preventDefault()\n      history.back()\n    }\n  }\n\n  return (\n    <Link to={src} className={styles.button} onClick={onclick}>{children}</Link>\n  )\n}\n","// extracted by mini-css-extract-plugin\nexport var button = \"ReturnBtn-module--button--hKyu_\";","// extracted by mini-css-extract-plugin\nexport var wrap = \"PrevNextLink-module--wrap--2TKPy\";\nexport var link = \"PrevNextLink-module--link--3_kg9\";\nexport var previous = \"PrevNextLink-module--previous--1Vh7Z\";\nexport var next = \"PrevNextLink-module--next--1OO8O\";","import React from \"react\"\nimport { Link } from \"gatsby\"\nimport * as styles from './PrevNextLink.module.scss'\n\ntype Page = {\n  frontmatter: {\n    words: string,\n  },\n  fields: {\n    slug: string,\n  }\n}\ntype Component = React.FC<{\n  previous: Page;\n  next: Page;\n}>\n\nexport const PrevNextLink: Component  = ({ previous, next }) => {\n  return (\n    <div className={styles.wrap}>\n      {\n        previous ? (\n          <p className={styles.previous}>\n            <Link to={previous.fields.slug} className={styles.link}>{previous.frontmatter.words}</Link>\n          </p>\n        ) : ``\n      }\n      {\n        next ? (\n          <p className={styles.next}>\n            <Link to={next.fields.slug} className={styles.link}>{next.frontmatter.words}</Link>\n          </p>\n        ) : ``\n      }\n    </div>\n  )\n}\n","// extracted by mini-css-extract-plugin\nexport var container = \"details-module--container--3faso\";\nexport var inner = \"details-module--inner--25iyX\";\nexport var videoContainer = \"details-module--videoContainer--1bFD4\";\nexport var videoContainer__title = \"details-module--videoContainer__title--1SqeG\";\nexport var videoContainer__tag = \"details-module--videoContainer__tag--Bgql6\";\nexport var videoContainer__video = \"details-module--videoContainer__video--3_Rg7\";\nexport var h1 = \"details-module--h1--GdZnL\";\nexport var tags = \"details-module--tags--2c-nH\";\nexport var tags__item = \"details-module--tags__item--gKp52\";\nexport var tags__txt = \"details-module--tags__txt--3OrrA\";\nexport var sns = \"details-module--sns--2VyeY\";\nexport var sns__item = \"details-module--sns__item--3y05H\";\nexport var sns__title = \"details-module--sns__title--3d9v2\";\nexport var sns__btn = \"details-module--sns__btn--2Iabr\";\nexport var markdown = \"details-module--markdown--20O2y\";\nexport var returnBtn = \"details-module--returnBtn--sOcph\";","import React, {useEffect} from \"react\"\nimport { graphql } from \"gatsby\"\nimport { Helmet } from 'react-helmet'\nimport { Layout } from '../components/Layout'\nimport { YouTube } from '../components/YouTube'\nimport { ReturnBtn } from '../components/ReturnBtn'\nimport { Header } from '../components/Header'\nimport { Footer } from '../components/Footer'\nimport { PrevNextLink } from '../components/PrevNextLink'\nimport '../common.scss'\nimport ogp from '../images/ogp.png'\nimport * as styles from './details.module.scss'\n\nexport default function PageTemplate({ data, pageContext }) {\n  const siteTitle = data.site.siteMetadata.title\n  const page = data.markdownRemark\n  const  { frontmatter, fields } = page\n  const [videoId, timestamp] = fields.slug.replace(/\\//g, ``).split(`.`)\n  const src = `https://youtu.be/${videoId}?t=${timestamp}`\n  const { previous, next } = pageContext\n  const list = frontmatter.tags.length && (() => {\n    const items: React.ReactNode[] = []\n\n    for (const tag of frontmatter.tags) {\n      items.push(\n        <li className={styles.tags__item} key={tag}>\n          <span className={styles.tags__txt}>\n            {tag}\n          </span>\n        </li>\n      )\n    }\n\n    return (\n      <ul className={styles.tags}>{items}</ul>\n    )\n  })()\n  const shareBtn = {\n    hash: `${videoId}__${timestamp}`,\n    text: `桐生ココ「${frontmatter.words.length < 20 ? frontmatter.words : frontmatter.words.slice(0, 19) + `…`} 」`,\n  }\n\n  useEffect(() => {\n    // @ts-ignore\n    window?.twttr?.widgets.load()\n  })\n\n  return (\n    <Layout>\n      <Helmet>\n        <title>「{frontmatter.words}」 | {siteTitle}</title>\n        <meta property=\"og:url\" content={`https://kiryu-kai.github.io/aphorism${fields.slug}`} />\n        <meta property=\"og:title\" content={`「${frontmatter.words}」 | ${siteTitle}`} />\n        <meta property=\"og:description\" content=\"心に残った一言。大切にしている言葉。人生観を変えた一瞬。たつのこたちの心に染み渡る、そんな数々の名シーンを紹介します。\" />\n        <meta property=\"og:image\" content={`https://kiryu-kai.github.io${ogp}`} />\n        <script async src=\"https://platform.twitter.com/widgets.js\" charSet=\"utf-8\"></script>\n      </Helmet>\n\n      <Header />\n\n      <main className={styles.container}>\n        <div className={styles.inner}>\n          <div className={styles.videoContainer}>\n            <div className={styles.videoContainer__title}>\n              <h1 className={styles.h1}>{frontmatter.words}</h1>\n            </div>\n\n            <div className={styles.videoContainer__tag}>\n              {list}\n            </div>\n\n            <div className={styles.videoContainer__video}>\n              <YouTube src={src} width={frontmatter.width} height={frontmatter.height} />\n            </div>\n          </div>\n\n          <dl className={styles.sns}>\n            <div className={styles.sns__item}>\n              <dt className={styles.sns__title}>元動画をシェアする</dt>\n              <dd className={styles.sns__btn}>\n                <a\n                  className=\"twitter-share-button\"\n                  href={`https://twitter.com/intent/tweet?url=${src.replace(`?`, `%3F`)}&hashtags=桐生ココの格言,${shareBtn.hash}`}\n                  data-url={src.replace(`?`, `%3F`)}\n                  data-hashtags={`桐生ココの格言,${shareBtn.hash}`}\n                  data-text={shareBtn.text}\n                  data-size=\"large\">Twitter #桐生ココの格言</a>\n              </dd>\n            </div>\n\n            <div className={styles.sns__item}>\n              <dt className={styles.sns__title}>このページをシェアする</dt>\n              <dd className={styles.sns__btn}>\n                <a\n                  className=\"twitter-share-button\"\n                  href={`https://twitter.com/intent/tweet?url=${`https://kiryu-kai.github.io/aphorism${fields.slug}`}&hashtags=桐生ココの格言,${shareBtn.hash}`}\n                  data-url={`https://kiryu-kai.github.io/aphorism${fields.slug}`}\n                  data-hashtags={`桐生ココの格言,${shareBtn.hash}`}\n                  data-text={shareBtn.text}\n                  data-size=\"large\">Twitter #桐生ココの格言</a>\n              </dd>\n            </div>\n          </dl>\n\n          {\n            page.html ? (\n              <div className={styles.markdown} dangerouslySetInnerHTML={{ __html: page.html }}></div>\n            ) : ``\n          }\n\n          <PrevNextLink previous={previous} next={next} />\n\n          <p className={styles.returnBtn}>\n            <ReturnBtn src=\"/\">戻る</ReturnBtn>\n          </p>\n        </div>\n      </main>\n\n      <Footer />\n    </Layout>\n  )\n}\nexport const pageQuery = graphql`\n  query ($slug: String!) {\n    site {\n      siteMetadata {\n        title\n      }\n    }\n    markdownRemark(fields: {slug: {eq: $slug}}) {\n      frontmatter {\n        words\n        tags\n      }\n      fields {\n        slug\n      }\n      html\n    }\n  }\n`\n"],"sourceRoot":""}